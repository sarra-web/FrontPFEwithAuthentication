<div class="register-form">
  <form
    name="connector"
    #f="ngForm"
    (ngSubmit)="f.form.valid && onSubmit()"
    novalidate

  >
      <div class="form-group">
        <label>Name</label>
        <input type="text" class="form-control" id="aa" [(ngModel)]="connector.name" name="name" required
        #name="ngModel"
        [ngClass]="{ 'is-invalid': f.submitted && name.errors }"/>

        <div *ngIf="f.submitted && name.errors" class="invalid-feedback">
          <div *ngIf="name.errors['required']">name is required</div>
        </div>
      </div>
      <div class="form-group">
        <label>jdbcUrl</label>
        <input type="text" id="bb" class="form-control" [(ngModel)]="connector.jdbcUrl" name="jdbcUrl" required
        #jdbcUrl="ngModel"   [ngClass]="{ 'is-invalid': f.submitted && name.errors }"/>

        <div *ngIf="f.submitted && jdbcUrl.errors" class="invalid-feedback">
          <div *ngIf="name.errors['required']">jdbcUrl is required</div>
        </div>
      </div>
      <div class="form-group">
        <label>username</label>
        <input type="text" id="cc" class="form-control" [(ngModel)]="connector.username" name="username" required
        #username="ngModel" [ngClass]="{ 'is-invalid': f.submitted && name.errors }"/>

        <div *ngIf="f.submitted && username.errors" class="invalid-feedback">
          <div *ngIf="name.errors['required']">username is required</div>
        </div>
      </div>
      <div class="form-group">
        <label>password</label>
        <input id="myInput" type="password" class="form-control" [(ngModel)]="connector.password" name="password" required />
      <!-- An element to toggle between password visibility -->
           <input type="checkbox" (click)="myFunction()">Show Password
      </div>
      <div class="form-group">
        <label>className</label>
        <input id="class" name="classname" type="text" class="form-control" required [(ngModel)]="connector.className" />
      </div>
      <div class="form-group">
        <label>tableName</label>
        <input id="table" name="tablename" type="text" class="form-control" required [(ngModel)]="connector.tableName" />
      </div>

      <div class="ui fluid search dropdown selection">
        <select  [(ngModel)]="connector.mode" name="mode"
        >
        <option value="Full">Full</option>
          <option value="Incremental">Incremental</option>

        </select>
      </div>
<div class="form-group">
        <label for="comment">Initial query:</label>
        <textarea name="query" (input)="handleKeyDown($event)" [(ngModel)]="connector.initialQuery" class="form-control" rows="5" id="comment"></textarea>
      </div>


      <div class="if" *ngIf="connector.mode=='Incremental'">
        <label>Checkpoint Column</label>
        <input type="text" placeholder="checkpointColumn" [(ngModel)]="connector.checkpointColumn" >
<br>
        <label>Incremental variable</label>

        <input type="text" placeholder="incrementalVariable" [(ngModel)]="connector.incrementalVariable"  >
        <div class="form-group">
          <label for="comment">Incremental query:</label>
          <textarea name="query" (input)="handleKeyDown($event)" [(ngModel)]="connector.incrementalQuery" class="form-control" rows="5" id="comment"></textarea>
        </div>

      </div>



      <a mat-flat-button color="primary" (click)="onClick()">Retrieve fields</a>
      <div class="form-group" *ngIf="messageQuery" class="message">
        {{ messageQuery }}
      </div>
      <div class="container">
        <div id="box" class="box" *ngFor="let field of result ; let i = index;">
          <div class="ui form">
            <div class="ui grid">
              <div class="sixteen wide right aligned column">
                <div class="ui checkbox" style="margin-right: 1em;">
                  <input class="form-check-input" type="checkbox" id="flex" checked [(ngModel)]="field.included" value="true"  name="zz"/>
                  <label class="form-check-label" for="flexCheckChecked"> Included </label>
                </div>
              </div>
            </div>
            <div class="field">
              <label>Type de colonne</label>
              <br style="display: none;">
              <div class="ui fluid search dropdown selection">
                <select id="select_{{i}}" [(ngModel)]="field.fieldType" name="fieldType{{i}}"
                [disabled]="!field.included" >
                  <option value="Identifiant">Identifiant</option>
                  <option value="Title">Titre</option>
                  <option value="Text">Text</option>
                  <option value="Date">Date</option>
                  <option value="Meta">Meta</option>
                  <option value="Language">Language</option>
                </select>
                <i class="dropdown icon"></i>
              </div>
            </div>
            <div class="field" *ngIf="field.fieldType=='Meta'">
              <label>Nom du meta</label>
              <br>
              <input type="text" placeholder="Nom du meta" [(ngModel)]="field.meta" [disabled]="!field.included" name="meta name{{i}}">
            </div>
            <div class="field">
              <label>Nom de la colonne</label>
              <br>
              <input type="text" [disabled]="!field.included"
              placeholder="Nom de la colonne" [(ngModel)]="field.name" name="name{{i}}">
            </div>
            <div class="field">
              <label>Overview:</label>
              <br style="display: none;">
              <div class="ui fluid search dropdown selection">
                <select id="{{i}}" [disabled]="!field.included">
                  <option *ngFor="let cell of field.content" [value]="cell">{{cell}}</option>
                </select>
                <i class="dropdown icon"></i>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="form-group">
      <button type="submit" name="reg"  (click)="onSubmit()" class="btn btn-primary" ><!-- [disabled]="disabled"-->
        Register</button>
     <button name="res" type="button" (click)="onReset(f)" class="btn btn-warning float-right">
        Reset </button>
      </div>
  </form>
  </div>









